module.exports=function(){const{ipcRenderer:e}=require("electron"),{openArticle:s,viewArticle:t,getRandomArticleURL:a}=require("./articles.js"),{getRandomVideoURL:n,watchVideo:o}=require("./videos.js"),{sleep:r}=require("./util.js"),d=require("./paths.js");let i=[async()=>{await s(await a())},t,async()=>{await t(130,!0)},async()=>{const e=await n();location.href=e},o,async()=>{await o(190,!0)},async()=>{location.href=d.homePage}],l={1:[i[0],i[1]],2:[i[0],i[2]],4:[i[3],i[4]],5:[i[3],i[5]]};const c={_TaskNumbers2Tasks:e=>e.map(e=>i[e]),_Tasks2TaskNumbers:e=>e.map(e=>i.indexOf(e)),getAll(){const s=e.sendSync("tasks-getAll");return c._TaskNumbers2Tasks(s)},set(s){const t=c._Tasks2TaskNumbers(s);e.send("tasks-set",t)},add(...s){const t=c._Tasks2TaskNumbers(s);e.send("tasks-add",...t)},clear(){c.set([])},get tasks(){return c.getAll()},set tasks(e){c.set(e)},*do(e){for(;e.length>0;){const s=e.shift();c.set(e),yield s()}},async doAll(s){let t;window.addEventListener("beforeunload",()=>{t=!0});const a=Math.random(),n=[];for await(let o of c.do(s))if(n.push(o),t){e.send("dev-log",`preload #${a} exited`);break}return n},async doAll2(s){let t=!1;window.addEventListener("beforeunload",()=>{t=!0});const a=Math.random();for(e.send("dev-log",`preload #${a}`);s.length>0;){if(t){e.send("dev-log",`preload #${a} exited`);break}const n=s.shift();c.set(s),await n(),await r(2)}}};return{TaskList:c,taskTypes:i.concat(),taskBundles:l}}();